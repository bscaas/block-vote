(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{117:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var i=n(6),a=n(7),r=n(9),s=n(10),o=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).contract=new window.web3.eth.Contract(e.config.voting_booth.abi_interface,e.config.voting_booth.address),e}return Object(a.a)(n,[{key:"submitEncryptedMessages",value:function(e,t){return 0==t.length?Promise.resolve():this.contract.methods.submitEncryptedMessages(e,t).send({from:window.ethereum.selectedAddress,gas:5e6})}},{key:"getEncryptedMessages",value:function(e){return this.contract.methods.getEncryptedMessages(e).call({from:window.ethereum.selectedAddress})}},{key:"clearEncryptedMessages",value:function(e){return this.contract.methods.clearEncryptedMessages(e).send({from:window.ethereum.selectedAddress,gas:1e6})}}]),n}(n(46).a),c=function e(t,n){Object(i.a)(this,e),this.blockchain_address=n,this.message=t}},121:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var i=n(6),a=n(7),r=n(9),s=n(10),o=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).contract=new window.web3.eth.Contract(e.config.voter_registration.abi_interface,e.config.voter_registration.address),e}return Object(a.a)(n,[{key:"register",value:function(e,t){return this.contract.methods.registerVoter(e,t).send({from:window.ethereum.selectedAddress,gas:5e6})}},{key:"getTurnout",value:function(e){return this.contract.methods.getTurnout(e).call()}}]),n}(n(46).a),c=function e(t,n,a,r){Object(i.a)(this,e),this.id=t,this.blockchain_address=n,this.nin=a,this.voted=r}},165:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(120),a=n(81),r=n(6),s=n(7),o=n(9),c=n(10),l=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).contract=null,e.contract=new window.web3.eth.Contract(e.config.election_candidate.abi_interface,e.config.election_candidate.address),e}return Object(s.a)(n,[{key:"createCandidate",value:function(e,t){return this.contract.methods.createCandidate(e,t).send({from:window.ethereum.selectedAddress,gas:1e6})}},{key:"updateCandidate",value:function(e,t){return this.contract.methods.updateCandidate(e,t).send({from:window.ethereum.selectedAddress,gas:1e6})}},{key:"readCandidate",value:function(e,t){return this.contract.methods.readCandidate(e,t).call()}},{key:"deleteCandidate",value:function(e,t){return this.contract.methods.deleteCandidate(e,t).send({from:window.ethereum.selectedAddress,gas:1e6})}},{key:"list",value:function(e){return this.contract.methods.listCandidates(e).call().then((function(e){return Promise.resolve(e.map((function(e){return Object(i.a)(d,Object(a.a)(e))})))}))}},{key:"listIds",value:function(e){return this.contract.methods.listCandidateIds(e).call()}}]),n}(n(46).a),d=function e(t,n,i,a,s,o){Object(r.a)(this,e),this.id=t,this.name=n,this.election_id=i,this.key=a,this.profile_image_hash=s,this.profile_image_url=o}},200:function(e){e.exports=JSON.parse('{"ipfs":{"host":"ipfs.infura.io","port":5001,"protocol":"https"},"voting_booth":{"address":"0xC73820f4F7D23802dFD2F23A793AE2a725C5692e","abi_interface":[{"inputs":[{"internalType":"string","name":"election_id","type":"string"}],"name":"clearEncryptedMessages","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"election_id","type":"string"}],"name":"getEncryptedMessages","outputs":[{"internalType":"string[]","name":"","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"","type":"string"},{"internalType":"address","name":"","type":"address"},{"internalType":"uint256","name":"","type":"uint256"}],"name":"messages","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"election_id","type":"string"},{"components":[{"internalType":"address","name":"blockchain_address","type":"address"},{"internalType":"string","name":"message","type":"string"}],"internalType":"struct EncryptionDomain.EncryptedMessage[]","name":"m","type":"tuple[]"}],"name":"submitEncryptedMessages","outputs":[],"stateMutability":"nonpayable","type":"function"}]},"election":{"address":"0x384489D611A4ea007607b62397a92F1F2142c02F","abi_interface":[{"inputs":[{"components":[{"internalType":"string","name":"id","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"phase","type":"string"},{"internalType":"string","name":"elected_candidate_id","type":"string"}],"internalType":"struct ElectionContract.Election","name":"election","type":"tuple"}],"name":"createElection","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"election_id","type":"string"}],"name":"deleteElection","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"election_id","type":"string"}],"name":"endCandidate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"election_id","type":"string"}],"name":"endRegistration","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"election_id","type":"string"}],"name":"endTally","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"election_id","type":"string"}],"name":"endVoting","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"listElectionIds","outputs":[{"internalType":"string[]","name":"","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"listElections","outputs":[{"components":[{"internalType":"string","name":"id","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"phase","type":"string"},{"internalType":"string","name":"elected_candidate_id","type":"string"}],"internalType":"struct ElectionContract.Election[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"election_id","type":"string"}],"name":"readElection","outputs":[{"components":[{"internalType":"string","name":"id","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"phase","type":"string"},{"internalType":"string","name":"elected_candidate_id","type":"string"}],"internalType":"struct ElectionContract.Election","name":"","type":"tuple"}],"stateMutability":"view","type":"function"}]},"election_tally":{"address":"0xFeCfFE1081610012Ff3e20e0dAA5318B4F9CC19e","abi_interface":[{"inputs":[{"internalType":"string","name":"election_id","type":"string"}],"name":"getTally","outputs":[{"internalType":"string[]","name":"","type":"string[]"},{"internalType":"uint256[]","name":"","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"setCandidateContractAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"election_id","type":"string"},{"components":[{"internalType":"string","name":"election_id","type":"string"},{"internalType":"string","name":"candidate_key_fragment","type":"string"},{"internalType":"uint256","name":"candidate_key_fragment_position","type":"uint256"},{"internalType":"string","name":"vote_id","type":"string"}],"internalType":"struct VotingDomain.VoteFragment[]","name":"fragments","type":"tuple[]"}],"name":"submitVoteFragments","outputs":[],"stateMutability":"nonpayable","type":"function"}]},"election_candidate":{"address":"0x683a81e9EE8F7C8871354a0DA4368B67560003AB","abi_interface":[{"inputs":[{"internalType":"string","name":"_election_id","type":"string"},{"components":[{"internalType":"string","name":"id","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"election_id","type":"string"},{"internalType":"string","name":"key","type":"string"},{"internalType":"string","name":"profile_image_hash","type":"string"},{"internalType":"string","name":"profile_image_url","type":"string"}],"internalType":"struct ElectionCandidateContract.CandidateInfo","name":"_candidateinfo","type":"tuple"}],"name":"createCandidate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"_election_id","type":"string"},{"internalType":"string","name":"_candidate_id","type":"string"}],"name":"deleteCandidate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"string","name":"election_id","type":"string"}],"name":"listCandidateIds","outputs":[{"internalType":"string[]","name":"","type":"string[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"election_id","type":"string"}],"name":"listCandidates","outputs":[{"components":[{"internalType":"string","name":"id","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"election_id","type":"string"},{"internalType":"string","name":"key","type":"string"},{"internalType":"string","name":"profile_image_hash","type":"string"},{"internalType":"string","name":"profile_image_url","type":"string"}],"internalType":"struct ElectionCandidateContract.CandidateInfo[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_election_id","type":"string"},{"internalType":"string","name":"_candidate_id","type":"string"}],"name":"readCandidate","outputs":[{"components":[{"internalType":"string","name":"id","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"election_id","type":"string"},{"internalType":"string","name":"key","type":"string"},{"internalType":"string","name":"profile_image_hash","type":"string"},{"internalType":"string","name":"profile_image_url","type":"string"}],"internalType":"struct ElectionCandidateContract.CandidateInfo","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_election_id","type":"string"},{"components":[{"internalType":"string","name":"id","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"election_id","type":"string"},{"internalType":"string","name":"key","type":"string"},{"internalType":"string","name":"profile_image_hash","type":"string"},{"internalType":"string","name":"profile_image_url","type":"string"}],"internalType":"struct ElectionCandidateContract.CandidateInfo","name":"_candidateinfo","type":"tuple"}],"name":"updateCandidate","outputs":[],"stateMutability":"nonpayable","type":"function"}]},"voter_registration":{"address":"0x49CD2c9383298d7706fCaaD509D745706E9E6F02","abi_interface":[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"string","name":"election_id","type":"string"}],"name":"getTurnout","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"election_id","type":"string"},{"components":[{"internalType":"uint256","name":"id","type":"uint256"},{"internalType":"address","name":"blockchain_address","type":"address"},{"internalType":"string","name":"nin","type":"string"},{"internalType":"bool","name":"voted","type":"bool"}],"internalType":"struct Voter","name":"voter","type":"tuple"}],"name":"registerVoter","outputs":[],"stateMutability":"nonpayable","type":"function"}]}}')},300:function(e,t,n){"use strict";(function(e){var i=n(2),a=n.n(i),r=n(94),s=n(6),o=n(7),c=n(9),l=n(10),d=n(167),u=n(8),p=n.n(u),g=n(50),b=n(95),h=n(117),m=n(26),f=n(82),y=n(1),j=(n(390),function(t){Object(c.a)(i,t);var n=Object(l.a)(i);function i(e){var t;Object(s.a)(this,i);var a={public_key:"cQzV150MGQ46Z+KR3KCcHE0NwGFoq6uddA955b9GiEo=",blockchain_address:"0xb4875b7EFf02Cc2A9a5697AD4dCE8aDD43e54e90"},r={public_key:"cQzV150MGQ46Z+KR3KCcHE0NwGFoq6uddA955b9GiEo=",blockchain_address:"0xb4875b7EFf02Cc2A9a5697AD4dCE8aDD43e54e90"};return(t=n.call(this,e)).state={candidates:e.location.state.candidates,decryptors:[a,r],decryptors2:[r,a]},t.election=e.location.state.election,t}return Object(o.a)(i,[{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:"ballot",children:[Object(y.jsx)("h1",{className:"text-2xl",children:"Ballot"}),this.state.candidates.map((function(t){return Object(y.jsxs)("div",{className:" w-full lg:max-w-full lg:flex",children:[Object(y.jsx)("div",{className:"h-48 lg:h-auto lg:w-48 flex-none bg-cover border-2 border-green-400 rounded-t lg:rounded-t-none lg:rounded-l text-center overflow-hidden",style:{background_image:"url('/mountain.jpg')"},title:"Mountain"}),Object(y.jsx)("div",{className:"w-full border-r border-b border-l border-gray-400 lg:border-l-0 lg:border-t lg:border-gray-400 bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col justify-between leading-normal",onClick:function(){return e.vote(t)},children:Object(y.jsxs)("div",{className:"mb-8",children:[Object(y.jsx)("p",{className:"text-sm text-gray-600 flex items-center"}),Object(y.jsx)("div",{className:"text-gray-900 font-bold text-xl mb-2",children:t.name})]})})]})}))]})}},{key:"toHexString",value:function(e){return Array.from(e,(function(e){return("0"+(255&e).toString(16)).slice(-2)})).join("")}},{key:"vote",value:function(t){var n=this;f.a.startLoading();for(var i={id:g.a.uuidv4(),candidate_key:t.key},s=this.state.decryptors.length,o=t.key,c=[],l=[],u=[],p=0;p<o.length;p++){var m=this.state.decryptors[p%s].public_key,y={vote_id:i.id,candidate_key_fragment:o[p],candidate_key_fragment_position:p,election_id:this.election.id};u.push(b.a.encrypt(JSON.stringify(y),e.from(m)))}(function(){var e=Object(r.a)(a.a.mark((function e(){var t,i,o,p,g,m,f,y,j,v,x,w,O,_,k,T,C,N,E,M,A,V,I;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ipfs.add(u);case 2:t=e.sent,i=[],o=0,p=!0,g=!1,e.prev=7,f=Object(d.a)(t);case 9:return e.next=11,f.next();case 11:return y=e.sent,p=y.done,e.next=15,y.value;case 15:if(j=e.sent,p){e.next=29;break}v=j,x=n.state.decryptors[o%s],console.log("shooting file"),w=v.path,O={blockchain_address:x.blockchain_address,message:w},_=n.state.decryptors2[o%s],k=_.public_key,i.push(b.a.encrypt(JSON.stringify(O),k)),o+=1;case 26:p=!0,e.next=9;break;case 29:e.next=35;break;case 31:e.prev=31,e.t0=e.catch(7),g=!0,m=e.t0;case 35:if(e.prev=35,e.prev=36,p||null==f.return){e.next=40;break}return e.next=40,f.return();case 40:if(e.prev=40,!g){e.next=43;break}throw m;case 43:return e.finish(40);case 44:return e.finish(35);case 45:return e.next=47,window.ipfs.add(i);case 47:T=e.sent,o=0,C=!0,N=!1,e.prev=51,M=function(){var e=I,t=n.state.decryptors2[o%s];l.push(new Promise(function(){var n=Object(r.a)(a.a.mark((function n(i,r){var s,o;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:s=e.path,o=new h.a(s,t.blockchain_address),c.push(o),i();case 4:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())),o+=1},A=Object(d.a)(T);case 54:return e.next=56,A.next();case 56:return V=e.sent,C=V.done,e.next=60,V.value;case 60:if(I=e.sent,C){e.next=66;break}M();case 63:C=!0,e.next=54;break;case 66:e.next=72;break;case 68:e.prev=68,e.t1=e.catch(51),N=!0,E=e.t1;case 72:if(e.prev=72,e.prev=73,C||null==A.return){e.next=77;break}return e.next=77,A.return();case 77:if(e.prev=77,!N){e.next=80;break}throw E;case 80:return e.finish(77);case 81:return e.finish(72);case 82:case"end":return e.stop()}}),e,null,[[7,31,35,45],[36,,40,44],[51,68,72,82],[73,,77,81]])})));return function(){return e.apply(this,arguments)}})()().then((function(){console.log("Before promises"),Promise.all(l).then((function(){window.contract.voting_booth.submitEncryptedMessages(n.election.id,c).then((function(){f.a.stopLoading()}),(function(){f.a.stopLoading()})),console.log("after promises")}))}))}}]),i}(p.a.Component));t.a=Object(m.f)(j)}).call(this,n(0).Buffer)},311:function(e,t,n){},313:function(e,t,n){},326:function(e,t){},328:function(e,t){},342:function(e,t){},343:function(e,t){},363:function(e,t){},368:function(e,t){},370:function(e,t){},388:function(e,t){},400:function(e,t,n){},408:function(e,t){},415:function(e,t){},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(6),a=function e(){Object(i.a)(this,e),this.config=null,this.config=n(200)}},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(6),a=n(7),r=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,null,[{key:"uuidv4",value:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}},{key:"clashid",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["1","2","3"],n=[],i=0;i<e;i++)n.push(t[parseInt(3*Math.random())]);return n.join("")}}]),e}()},507:function(e,t){},509:function(e,t){},514:function(e,t){},516:function(e,t){},523:function(e,t){},524:function(e,t){},526:function(e,t){},538:function(e,t){},541:function(e,t){},604:function(e,t){},801:function(e,t,n){"use strict";n.r(t);var i=n(2),a=n.n(i),r=n(94),s=n(8),o=n.n(s),c=n(299),l=n.n(c),d=(n(311),n(82)),u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,805)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),r(e),s(e)}))},p=n(302),g=n.n(p),b=n(117),h=n(97),m=n(165),f=n(121),y=n(6),j=n(7),v=n(9),x=n(10),w=function(e){Object(v.a)(n,e);var t=Object(x.a)(n);function n(){var e;return Object(y.a)(this,n),(e=t.call(this)).contract=new window.web3.eth.Contract(e.config.election_tally.abi_interface,e.config.election_tally.address),e}return Object(j.a)(n,[{key:"submitVoteFragments",value:function(e,t){return 0==t.length?Promise.resolve():this.contract.methods.submitVoteFragments(e,t).send({from:window.ethereum.selectedAddress,gas:5e6})}},{key:"getTally",value:function(e){return this.contract.methods.getTally(e).send({from:window.ethereum.selectedAddress,gas:5e6})}}]),n}(n(46).a),O=n(1),_=n(200),k=n(589);function T(){return(T=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=4;break}return e.next=3,window.ethereum.enable();case 3:window.web3=new g.a(window.ethereum);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return T.apply(this,arguments)})().then((function(){window.contract={election:new h.b,election_candidate:new m.a,voting_booth:new b.b,election_tally:new w,voter:new f.b},window.ipfs=k({host:_.ipfs.host,port:_.ipfs.port,protocol:_.ipfs.protocol}),l.a.render(Object(O.jsx)(o.a.StrictMode,{children:Object(O.jsx)(d.b,{})}),document.getElementById("root"))})),u()},82:function(e,t,n){"use strict";n.d(t,"b",(function(){return S})),n.d(t,"a",(function(){return L}));var i=n(6),a=n(7),r=n(8),s=n.n(r),o=n(45),c=n(26),l=n(9),d=n(10),u=n(1),p=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.call(this)}return Object(a.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("section",{className:"h-screen flex items-center justify-center border-b-2 border-green-400",children:[Object(u.jsx)("div",{className:"absolute opacity-50 h-full w-full",style:{background:"no-repeat center top url('/bscaas/assets/images/fist.jpg"}}),Object(u.jsx)("h2",{className:"uppercase tracking-wide text-3xl text-green-600 font-bold",children:"Election voting on the blockchain"}),Object(u.jsx)("p",{className:"mt-1 text-gray-500",children:"A solution that works!"})]}),Object(u.jsxs)("section",{className:"h-screen bg-opacity-50 flex items-center justify-center border-b-2 border-green-400",children:[Object(u.jsx)("img",{className:"rounded-lg md:w-56",src:"".concat("/bscaas","/assets/images/puzzle.png"),alt:"Missing piece"}),Object(u.jsx)("h2",{class:"uppercase tracking-wide text-lg text-green-600 font-bold",children:"The stumbling Block"}),Object(u.jsx)("p",{class:"mt-1 text-gray-500",children:"The African electoral systems are plagued with malpractise, violence and general apathy on the part of citizens.Not only that, there is also the issue of huge costs required to fund the process. The concept of democracy has therefore not been able to fulfill its purpose. "})]}),Object(u.jsxs)("section",{className:"h-screen bg-opacity-50 flex items-center justify-center border-b-2 border-green-400",children:[Object(u.jsx)("h2",{class:"uppercase tracking-wide text-lg text-green-600 font-bold",children:"Our solution"}),Object(u.jsx)("p",{class:"mt-1 text-gray-500",children:'A full on-chain voting system using "Cascade Encrypted Obfuscation" (CEO) technique that inherits the decentralized and auditable features of the blockchain. Voting would become digital immutable and transparent.'}),Object(u.jsx)("img",{className:"rounded-lg md:w-56",src:"".concat("/bscaas","/assets/images/blockchain.png"),alt:"Blockchain"})]}),Object(u.jsxs)("section",{className:"h-screen bg-opacity-50 flex items-center justify-center mb-0",children:[Object(u.jsx)("img",{className:"rounded-lg md:w-56",src:"".concat("/bscaas","/assets/images/earn_rewards.png"),alt:"logo"}),Object(u.jsx)("h2",{class:"uppercase tracking-wide text-lg text-green-600 font-bold",children:"Earn Rewards"}),Object(u.jsx)("p",{class:"mt-1 text-gray-500",children:"Get rewarded for being an active citizen! Earn our Liberty Token (LBT) as you complete the registration cycle and vote for your desired candidate. Participation in government has never been better!"})]})]})}}]),n}(s.a.Component),g=(n(313),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.call(this)}return Object(a.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{class:"mt-4 md:mt-0 md:ml-6",children:[Object(u.jsx)("section",{id:"about1",className:"h-screen bg-opacity-50 flex items-center justify-center mb-0  bg-auto bg-no-repeat bg-center",style:{background:"url('/bscaas/assets/images/multiethnic-group-hands-raised.jpg"}}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{class:"block mt-1 text-lg leading-tight font-semibold text-gray-900 hover:underline",children:"BlockVote | Everything You Need To Know!"}),Object(u.jsx)("p",{children:"This Application is for election & polling at any scale. Fortified with encrytion obfusication in order to obscure the voters from thier vote making it nearly imposible to see which candidate a voter voted."}),Object(u.jsx)("p",{children:"These application has an inbuilt reward system to incentivise the voters. Electorial processes can be overwhelming most of the time and as sign of good fate its only natural to want to support the people for thier cooperation."}),Object(u.jsx)("p",{children:"The more processes you complete the more you earn, this way everyone will be willing to participate. Everyone must pre-register to vote prior to election."}),Object(u.jsx)("p",{children:"Though the infomation on the block chain is public, the identities of the voters cannot be easily figured out."})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{}),Object(u.jsx)("h2",{class:"block mt-1 text-lg leading-tight font-semibold text-gray-900 hover:underline",children:"How To Vote"}),Object(u.jsx)("p",{children:"Every voter must go to the registration portal and register to vote."})]})]})}}]),n}(s.a.Component)),b=n(300),h=n(118),m=n(95),f=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;if(Object(i.a)(this,n),(a=t.call(this,e)).messages=[],e.location.state){a.election_id=e.location.state.election_id,a.already_decrypted_messages=JSON.parse(localStorage.getItem("decrypt"+a.election_id))||[];var r,s=Object(h.a)(e.location.state.messages);try{for(s.s();!(r=s.n()).done;){var o=r.value;a.already_decrypted_messages.includes(window.web3.utils.keccak256(o).toString())||a.messages.push(o)}}catch(c){s.e(c)}finally{s.f()}}return a}return Object(a.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{children:[this.messages.length," messages to decrypt.",Object(u.jsx)("br",{}),Object(u.jsx)("button",{onClick:function(){return e.decrypt()},children:"Decrypt"})]})}},{key:"decrypt",value:function(){var e=this,t=[],n=[];Promise.all(this.messages.map((function(e){return new Promise((function(i){fetch("https://ipfs.infura.io/ipfs/"+e).then((function(e){e.text().then((function(e){m.a.decrypt(e).then((function(e){var a=JSON.parse(e);a.vote_id?n.push(a):t.push(a),i()}))}))}))}))}))).then((function(){Promise.all([window.contract.voting_booth.submitEncryptedMessages(e.election_id,t),window.contract.election_tally.submitVoteFragments(e.election_id,n)]).then((function(){console.log(t),e.already_decrypted_messages=e.already_decrypted_messages.concat(e.messages.map((function(e){return window.web3.utils.keccak256(e).toString()}))),localStorage.setItem("decrypt"+e.election_id,JSON.stringify(e.already_decrypted_messages))}))}))}}]),n}(s.a.Component),y=Object(c.f)(f),j=(n(400),n(120)),v=n(81),x=n(50),w=n(97),O=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).editElection=function(t){e.props.history.push("/election-form",{election:t})},e.elections=[],L.startLoading(),window.contract.election.list().then((function(t){e.elections=t.map((function(e){return Object(j.a)(w.a,Object(v.a)(e))})),e.setState({});var n,i=Object(h.a)(e.elections);try{var a=function(){var t=n.value;window.contract.voter.getTurnout(t.id).then((function(n){t.voter_count=n,e.setState({})}))};for(i.s();!(n=i.n()).done;)a()}catch(r){i.e(r)}finally{i.f()}L.stopLoading()})),e}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"elections",children:[Object(u.jsxs)("h1",{className:"mt-5 text-2xl",children:["Elections",Object(u.jsx)("i",{className:"fas fa-plus-circle float-right",onClick:function(){e.editElection(new w.a("",""))}})]}),this.elections.map((function(t){return Object(u.jsxs)("div",{className:" w-full lg:max-w-full lg:flex",children:[Object(u.jsx)("div",{className:"h-48 lg:h-auto lg:w-48 flex-none bg-cover border-2 border-green-400 rounded-t lg:rounded-t-none lg:rounded-l text-center overflow-hidden",style:{background_image:"url('/mountain.jpg')"},title:"Mountain"}),Object(u.jsxs)("div",{className:"w-full border-r border-b border-l border-gray-400 lg:border-l-0 lg:border-t lg:border-gray-400 bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col justify-between leading-normal",onClick:function(){e.editElection(t)},children:[Object(u.jsxs)("div",{className:"mb-8",children:[Object(u.jsxs)("p",{className:"text-sm text-gray-600 flex items-center",children:[Object(u.jsx)("svg",{className:"fill-current text-gray-500 w-3 h-3 mr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:Object(u.jsx)("path",{d:"M4 8V6a6 6 0 1 1 12 0v2h1a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h1zm5 6.73V17h2v-2.27a2 2 0 1 0-2 0zM7 6v2h6V6a3 3 0 0 0-6 0z"})}),"Registrants only"]}),Object(u.jsx)("div",{className:"text-gray-900 font-bold text-xl mb-2",children:t.name}),Object(u.jsxs)("p",{className:"text-gray-700 text-base",children:[t.voter_count," Registered Voters"]})]}),Object(u.jsxs)("div",{className:"flex items-center",children:[Object(u.jsxs)("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-red-100 bg-red-600 rounded-full",children:["Phase: ",t.phase]}),"Candidate"==t.phase?Object(u.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:function(n){return e.endCandidate(t.id,n)},children:"End Candidate Registration"}):"Registration"==t.phase?Object(u.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:function(n){return e.endRegistration(t.id,n)},children:"End Voter Registration"}):"Voting"==t.phase?Object(u.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full right-0",onClick:function(n){return e.endVoting(t.id,n)},children:"End Voting"}):"Tally"==t.phase?Object(u.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:function(n){return e.endTally(t.id,n)},children:"End Tally"}):""]})]})]})}))]})}},{key:"endCandidate",value:function(e,t){return t.stopPropagation(),window.contract.election.endCandidate(e),!1}},{key:"endRegistration",value:function(e,t){return t.stopPropagation(),window.contract.election.endRegistration(e),!1}},{key:"endVoting",value:function(e,t){return t.stopPropagation(),window.contract.election.endVoting(e),!1}},{key:"endTally",value:function(e,t){return t.stopPropagation(),window.contract.election.endTally(e),!1}}]),n}(s.a.Component),_=Object(c.f)(O),k=(n(165),function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this)).election_id=e.election_id,a.can_register=e.can_register,a.candidates=e.candidates,a}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return Object(u.jsx)("div",{className:"candidates",children:this.candidates.map((function(t){return Object(u.jsxs)("div",{className:" w-full lg:max-w-full lg:flex",children:[Object(u.jsx)("div",{className:"h-48 lg:h-auto lg:w-48 flex-none bg-cover border-2 border-green-400 rounded-t lg:rounded-t-none lg:rounded-l text-center overflow-hidden",style:{background_image:"url('/mountain.jpg')"},title:"Mountain"}),Object(u.jsx)("div",{className:"w-full border-r border-b border-l border-gray-400 lg:border-l-0 lg:border-t lg:border-gray-400 bg-white rounded-b lg:rounded-b-none lg:rounded-r p-4 flex flex-col justify-between leading-normal",onClick:function(){e.editCandidate(t)},children:Object(u.jsxs)("div",{className:"mb-8",children:[Object(u.jsx)("p",{className:"text-sm text-gray-600 flex items-center"}),Object(u.jsx)("div",{className:"text-gray-900 font-bold text-xl mb-2",children:t.name})]})})]})}))})}},{key:"editCandidate",value:function(e){this.props.history.push("/candidate-form",{candidate:e})}}]),n}(s.a.Component)),T=Object(c.f)(k),C=n(121),N=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this)).createElection=function(){L.startLoading(),a.election.id=x.a.uuidv4(),window.contract.election.create(a.election).then((function(){alert(a.election.name+" has been created with id "+a.election.id),a.setState({}),L.stopLoading()}),(function(){L.stopLoading()}))},a.updateElection=function(){alert(a.election.name+" has been updated")},a.handleChangeName=function(e){a.election.name=e.target.value,a.setState({})},a.gotoBallot=function(){a.props.history.push("/ballot",{election:a.election,candidates:a.candidates})},a.gotoDecrypt=function(){window.contract.voting_booth.getEncryptedMessages(a.election.id).then((function(e){a.props.history.push("/decrypt",{messages:e,election_id:a.election.id})}))},a.gotoRegistration=function(){a.props.history.push("/voter-form",{election:a.election,voter:new C.a(0,"","",!1)})},a.candidates=[],a.election=e.location.state.election,a.election.id&&(L.startLoading(),window.contract.election_candidate.list(a.election.id).then((function(e){var t;a.candidates.length=0,(t=a.candidates).push.apply(t,Object(v.a)(e)),a.setState({}),L.stopLoading()}))),a}return Object(a.a)(n,[{key:"render",value:function(){var e;e=this.election.id?Object(u.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:this.updateElection,children:"Update"}):Object(u.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:this.createElection,children:"Create"});var t="";return"Registration"==this.election.phase?t=Object(u.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:this.gotoRegistration,children:"Register to Vote"}):"Voting"==this.election.phase&&(t=Object(u.jsxs)("span",{className:"float-right",children:[Object(u.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:this.gotoBallot,children:"Vote"}),Object(u.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:this.gotoDecrypt,children:"Decrypt"})]})),Object(u.jsxs)("div",{className:"election",children:[Object(u.jsx)("h3",{className:"text-2xl",children:"Election"})," ",t,Object(u.jsx)("label",{children:"Name: "}),Object(u.jsx)("input",{type:"text",value:this.election.name,onChange:this.handleChangeName}),e,Object(u.jsx)("h3",{className:"text-xl",children:"Candidates"}),this.election.id?Object(u.jsx)(T,{election_id:this.election.id,can_register:"Candidate"!=this.election.phase,candidates:this.candidates}):""]})}}]),n}(s.a.Component),E=Object(c.f)(N),M=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this)).createCandidate=function(){a.candidate.id=x.a.uuidv4(),window.contract.election_candidate.createCandidate(a.candidate.election_id,a.candidate).then((function(){alert(a.candidate.name+" has been created with id "+a.candidate.id),a.setState({}),L.stopLoading()}),(function(){L.stopLoading()}))},a.updateCandidate=function(){alert(a.candidate.name+" has been updated")},a.handleChangeName=function(e){a.candidate.name=e.target.value,a.setState({})},a.candidate=e.location.state.candidate,a}return Object(a.a)(n,[{key:"render",value:function(){var e;return e=this.candidate.id?Object(u.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:this.updateCandidate,children:"Update"}):Object(u.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:this.createCandidate,children:"Create"}),Object(u.jsxs)("div",{className:"candidate",children:[Object(u.jsx)("h2",{className:"text-2xl",children:"Candidate"}),Object(u.jsx)("label",{children:"Name: "}),Object(u.jsx)("input",{type:"text",value:this.candidate.name,onChange:this.handleChangeName}),e]})}}]),n}(s.a.Component),A=Object(c.f)(M),V=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this)).registerVoter=function(){L.startLoading(),a.voter.id=0,a.voter.blockchain_address=window.ethereum.selectedAddress,window.contract.voter.register(a.election_id,a.voter).then((function(){alert(a.voter.nin+" has been registered with id "+a.voter.id),a.setState({}),L.stopLoading()}),(function(){L.stopLoading()}))},a.handleChangeNIN=function(e){a.voter.nin=e.target.value,a.setState({})},a.voter=e.location.state.voter,a.election_id=e.location.state.election.id,a}return Object(a.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"voter",children:[Object(u.jsx)("label",{children:"National Identity Number: "}),Object(u.jsx)("input",{type:"text",value:this.voter.name,onChange:this.handleChangeNIN}),Object(u.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full",onClick:this.registerVoter,children:"Register"}),this.voter.id?Object(u.jsx)(T,{can_register:"Candidate"!=this.voter.phase,candidates:this.candidates}):""]})}}]),n}(s.a.Component),I=Object(c.f)(V),F=[{name:"Home",path:"/",component:p,is_menu:!0},{name:"About",path:"/about",component:g,is_menu:!0},{name:"Ballot",path:"/ballot",component:b.a},{name:"Decrypt",path:"/decrypt",component:y},{name:"Elections",path:"/elections",component:_,is_menu:!0},{name:"Candidates",path:"/candidates",component:T},{name:"Candidate Form",path:"/candidate-form",component:A},{name:"Election Form",path:"/election-form",component:E},{name:"Register Voter",path:"/voter-form",component:I}];function S(){return Object(u.jsxs)(o.a,{children:[Object(u.jsxs)("nav",{className:"sticky top-0 z-40 flex flex-wrap items-center justify-between px-2 bg-blueGray-500 rounded border-2 border-green-200",children:[Object(u.jsxs)("div",{className:"w-full relative flex justify-between lg:w-auto px-4 lg:static lg:block lg:justify-start",children:[Object(u.jsx)("a",{className:"text-sm font-bold leading-relaxed inline-block mr-4 py-2 whitespace-nowrap uppercase text-white",href:"/bscaas",children:Object(u.jsx)("img",{className:"rounded-lg md:w-56",src:"".concat("/bscaas","/assets/images/logo.png"),alt:"logo"})}),Object(u.jsxs)("button",{className:"cursor-pointer text-xl leading-none px-3 py-1 border border-solid border-transparent rounded bg-transparent block lg:hidden outline-none focus:outline-none",type:"button",children:[Object(u.jsx)("span",{className:"block relative w-6 h-px rounded-sm bg-white"}),Object(u.jsx)("span",{className:"block relative w-6 h-px rounded-sm bg-white mt-1"}),Object(u.jsx)("span",{className:"block relative w-6 h-px rounded-sm bg-white mt-1"})]})]}),Object(u.jsxs)("div",{className:"flex lg:flex-grow items-center",children:[Object(u.jsx)("ul",{className:"flex flex-col lg:flex-row list-none ml-auto",children:F.map((function(e,t){if(e.is_menu)return Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(o.b,{className:"px-3 py-2 flex items-center text-xs uppercase font-bold leading-snug hover:opacity-75",to:e.path,children:e.name})})}))}),Object(u.jsxs)("div",{className:"text-center w-12",children:[Object(u.jsx)("img",{src:"".concat("/bscaas","/assets/images/liberty.png")}),0," LBT"]})]})]}),Object(u.jsx)(c.c,{children:F.map((function(e){return Object(u.jsx)(c.a,{exact:!0,path:e.path,children:Object(u.jsx)("div",{className:"px-5 pb-0",children:s.a.createElement(e.component)})})}))})]})}var L=function(){function e(){Object(i.a)(this,e)}return Object(a.a)(e,null,[{key:"stopLoading",value:function(){document.getElementById("loader").classList.add("invisible"),window.loaderInterval&&(window.clearInterval(window.loaderInterval),window.loaderInterval=null)}},{key:"startLoading",value:function(){document.getElementById("loader").classList.remove("invisible");var e=document.getElementById("loader-image"),t=0;window.loaderInterval&&(window.clearInterval(window.loaderInterval),window.loaderInterval=null),window.loaderInterval=window.setInterval((function(){t+=5,e.style.transform="rotate3d(0,1,0, "+t+"deg)"}),80)}}]),e}()},95:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var i=n(6),a=n(7),r=n(315),s=n(102),o=function(){function t(){Object(i.a)(this,t)}return Object(a.a)(t,null,[{key:"getPublicKey",value:function(){return new Promise((function(e){window.ethereum.request({method:"eth_getEncryptionPublicKey",params:[window.ethereum.selectedAddress]}).then((function(t){return e(t)}))}))}},{key:"encrypt",value:function(t,n){return s.bufferToHex(e.from(JSON.stringify(r.encrypt(n,{data:t},"x25519-xsalsa20-poly1305")),"utf8"))}},{key:"decrypt",value:function(e){return window.ethereum.request({method:"eth_decrypt",params:[e,window.ethereum.selectedAddress]})}}]),t}()}).call(this,n(0).Buffer)},97:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var i=n(6),a=n(7),r=n(9),s=n(10),o=function(e){Object(r.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).contract=new window.web3.eth.Contract(e.config.election.abi_interface,e.config.election.address),e}return Object(a.a)(n,[{key:"create",value:function(e){return this.contract.methods.createElection(e).send({from:window.ethereum.selectedAddress,gas:5e6})}},{key:"read",value:function(e){return this.contract.methods.readElection(e).send({from:window.ethereum.selectedAddress,gas:5e6})}},{key:"delete",value:function(e){return this.contract.methods.deleteElection(e).send({from:window.ethereum.selectedAddress,gas:5e6})}},{key:"list",value:function(){return this.contract.methods.listElections().call()}},{key:"listIds",value:function(){return this.contract.methods.listElectionIds().call()}},{key:"endCandidate",value:function(e){return this.contract.methods.endCandidate(e).send({from:window.ethereum.selectedAddress,gas:5e6})}},{key:"endRegistration",value:function(e){return this.contract.methods.endRegistration(e).send({from:window.ethereum.selectedAddress,gas:5e6})}},{key:"endVoting",value:function(e){return this.contract.methods.endVoting(e).send({from:window.ethereum.selectedAddress,gas:5e6})}},{key:"endTally",value:function(e){return this.contract.methods.endTally(e).send({from:window.ethereum.selectedAddress,gas:5e6})}}]),n}(n(46).a),c=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Candidate",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";Object(i.a)(this,e),this.id=t,this.name=n,this.phase=a,this.elected_candidate_id=r}}},[[801,1,2]]]);
//# sourceMappingURL=main.e889c28b.chunk.js.map